<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Chat</title>
    <link rel="stylesheet" type="text/css" href="font-awesome.css" />
    <link id="sheetofstyles" rel="stylesheet" type="text/css" href="browserOutput.css" />
    <script type="text/javascript" src="purify.min.js"></script>
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="json2.min.js"></script>
</head>
<body>
    <div id="loading">
        <i class="fas fa-spinner fa-2x"></i>
        <div>
            Loading...<br><br>
            If this takes longer than 30 seconds, it will automatically reload a maximum of 5 times.<br>
            If it <b>still</b> doesn't work, use the bug report button at the top right of the window.
        </div>
    </div>

    <div id="messages">
    </div>

    <div id="filterTabs">
        <div class="filter-tab active" data-filter="all">All</div>
        <button id="addTabBtn">+ Add Tab</button>
    </div>

    <div id="addTabForm">
        <h3>Add Custom Filter Tab</h3>
        <input type="text" id="tabName" placeholder="Tab name (e.g., 'Security')">
        <input type="text" id="tabClasses" placeholder="CSS classes (comma-separated, e.g., 'security,secradio')">
        <div>
            <button class="save" onclick="saveCustomTab()">Save</button>
            <button class="cancel" onclick="cancelAddTab()">Cancel</button>
        </div>
    </div>

    <div id="userBar" style="display: none;">
                <div id="audio">
                    <a href="#" class="subCell toggle" id="toggleAudio" title="Audio"><i class="fas fa-volume-up"></i></a>
                </div>
                <div id="websocket">
                    <a href="#" class="subCell toggle" id="toggleWebsocket" title="WebSocket"><i class="fas fa-plug"></i></a>
                </div>
                <div id="options">
                    <a href="#" class="subCell toggle" id="toggleOptions" title="Options"><i class="fas fa-cog"></i></a>
                </div>
                <div class="sub" id="subWebsocket">
                    <div class="websocket-settings">
                        <div class="websocket-status disconnected" id="websocketStatus">Disconnected</div>

                        <div class="websocket-server-group">
                            <label for="websocketServer">WebSocket Server:</label>
                            <input type="text" id="websocketServer" placeholder="localhost:1234" value="localhost:1234">
                        </div>

                        <div class="websocket-controls">
                            <button id="connectWebsocket" class="primary">Connect</button>
                            <button id="disconnectWebsocket">Disconnect</button>
                            <button id="reconnectWebsocket">Reconnect</button>
                        </div>
                    </div>
                </div>
                <div class="sub" id="subOptions">
                    <a href="#" class="subCell decreaseFont topCell" id="decreaseFont"><span>Decrease font size</span> <i class="fas fa-font"></i></a>
                    <a href="#" class="subCell increaseFont" id="increaseFont"><span>Increase font size</span> <i class="fas fa-font"></i></a>
        <!--			<a href="#" class="subCell togglePing" id="togglePing"><span>Toggle ping display</span> <i class="fas fa-circle"></i></a>-->
       			    <a href="#" class="subCell highlightTerm" id="highlightTerm"><span>Highlight string</span> <i class="fas fa-tag"></i></a>
        			<a href="#" class="subCell saveLog" id="saveLog"><span>Save chat log</span> <i class="fas fa-save"></i></a>
                    <a href="#" class="subCell toggleCombine" id="toggleCombine"><span>Toggle line combining</span> <i class="fas fa-filter"></i></a>
        <!--			<a href="#" class="subCell clearMessages" id="clearMessages"><span>Clear all messages</span> <i class="fas fa-eraser"></i></a>-->
                </div>
                <div class="sub" id="subAudio">
                    <span class="subCell topCell" id="musicVolumeSpan"><input type="range" class="hidden" id="musicVolume"><span id="musicVolumeText">Admin music volume</span><i class="fas fa-music"></i></span>
                </div>
            </div>

    <div id="contextMenu">
        <ul>
        </ul>
    </div>

    <div id="userBar" style="display: none;">
    </div>

    <script type="text/javascript" src="errorHandler.js"></script>
    <script type="text/javascript" src="browserOutput.js"></script>


</body>
</html>
